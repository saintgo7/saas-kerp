# K-ERP API Configuration
# Copy this file to app.yaml and customize for your environment
# Environment variables with KERP_ prefix override these values
# Example: KERP_DATABASE_PASSWORD=secret

app:
  name: kerp-api
  env: development  # development, staging, production
  debug: true
  port: 8080
  version: 0.2.0

database:
  host: localhost
  port: 5432
  name: kerp_dev
  user: kerp
  password: ""  # Set via KERP_DATABASE_PASSWORD env var
  sslmode: disable
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 5m

redis:
  host: localhost
  port: 6379
  password: ""  # Set via KERP_REDIS_PASSWORD env var
  db: 0

nats:
  url: nats://localhost:4222
  cluster_id: kerp-cluster

jwt:
  secret: ""  # REQUIRED: Set via KERP_JWT_SECRET env var
  access_token_ttl: 15m
  refresh_token_ttl: 168h  # 7 days
  issuer: kerp-api

cors:
  allowed_origins:
    - http://localhost:3000
    - http://localhost:5173
  allowed_methods:
    - GET
    - POST
    - PUT
    - DELETE
    - PATCH
    - OPTIONS
  allowed_headers:
    - Authorization
    - Content-Type
    - X-Request-ID
  max_age: 86400

ratelimit:
  enabled: false
  requests_per_second: 100
  burst: 200

log:
  level: info  # debug, info, warn, error
  format: json  # json, console
